<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ .title }}</title>
    <style>
        body {
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            color: #333;
            background-color: #f7f9fc;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: #fff;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
        }
        header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 1px solid #eee;
            padding-bottom: 20px;
        }
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        .section {
            margin-bottom: 30px;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 6px;
        }
        .section h2 {
            color: #2c3e50;
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 22px;
        }
        .section p {
            color: #555;
            margin-bottom: 20px;
        }
        .language-selector {
            display: flex;
            justify-content: center;
            margin: 20px 0;
            gap: 10px;
        }
        .language-btn {
            padding: 8px 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: #f8f9fa;
            color: #333;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .language-btn:hover {
            background-color: #e9ecef;
        }
        .language-btn.active {
            background-color: #2980b9;
            color: white;
            border-color: #2980b9;
        }
        .language-flag {
            width: 20px;
            height: 15px;
            display: inline-block;
            vertical-align: middle;
        }
        .demo-content {
            border: 1px solid #ddd;
            padding: 20px;
            border-radius: 6px;
            background-color: white;
            margin-top: 20px;
        }
        .greeting-text {
            font-size: 24px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 15px;
            color: #2c3e50;
        }
        .message-text {
            text-align: center;
            font-size: 16px;
            color: #7f8c8d;
        }
        .current-lang {
            display: block;
            text-align: center;
            color: #7f8c8d;
            margin-top: 20px;
            font-size: 14px;
        }
        .code-block {
            background-color: #2c3e50;
            color: #ecf0f1;
            padding: 15px 20px;
            border-radius: 4px;
            font-family: monospace;
            overflow-x: auto;
            margin: 15px 0;
        }
        .code-comment {
            color: #7f8c8d;
        }
        .feature-list {
            margin-top: 15px;
        }
        .feature-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 10px;
            background-color: white;
            padding: 12px;
            border-radius: 4px;
            border: 1px solid #e1e4e8;
        }
        .feature-icon {
            margin-right: 10px;
            color: #2ecc71;
            font-weight: bold;
            font-size: 18px;
        }
        .feature-content {
            flex: 1;
        }
        .feature-title {
            font-weight: 500;
            color: #2c3e50;
            margin-bottom: 3px;
        }
        .feature-description {
            font-size: 14px;
            color: #606770;
        }
        .back-link {
            display: inline-block;
            margin-top: 20px;
            color: #3498db;
            text-decoration: none;
        }
        .back-link:hover {
            text-decoration: underline;
        }
        .footer-nav {
            display: flex;
            justify-content: center;
            margin-top: 20px;
            gap: 10px;
        }
        .nav-link {
            color: #3498db;
            text-decoration: none;
        }
        .nav-link:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>国际化支持</h1>
            <p>框架提供的多语言支持功能，使应用轻松实现本地化</p>
        </header>

        <div class="section">
            <h2>语言切换演示</h2>
            <p>点击下方按钮切换语言，查看内容如何根据所选语言进行变化。</p>
            
            <div class="language-selector">
                <button class="language-btn {{if eq .currentLang "zh-CN"}}active{{end}}" data-lang="zh-CN">
                    <span class="language-flag">🇨🇳</span> 中文
                </button>
                <button class="language-btn {{if eq .currentLang "en-US"}}active{{end}}" data-lang="en-US">
                    <span class="language-flag">🇺🇸</span> English
                </button>
                <button class="language-btn {{if eq .currentLang "ja-JP"}}active{{end}}" data-lang="ja-JP">
                    <span class="language-flag">🇯🇵</span> 日本語
                </button>
                <button class="language-btn {{if eq .currentLang "fr-FR"}}active{{end}}" data-lang="fr-FR">
                    <span class="language-flag">🇫🇷</span> Français
                </button>
            </div>
            
            <div class="demo-content">
                <div class="greeting-text">{{ .greeting }}</div>
                <div class="message-text">{{ .message }}</div>
                <div class="current-lang">{{ .langInfo }}</div>
            </div>
        </div>

        <div class="section">
            <h2>代码示例</h2>
            <p>框架提供简单易用的国际化API，只需几行代码即可实现完整的多语言支持。</p>
            
            <div class="code-block">
                <div><span class="code-comment">// 检测用户首选语言</span></div>
                <div>lang := c.PreferredLanguage("zh-CN", []string{"zh-CN", "en-US", "ja-JP", "fr-FR"})</div>
                <div></div>
                <div><span class="code-comment">// 获取翻译内容</span></div>
                <div>greeting := c.I18n(lang, "greeting")</div>
                <div>message := c.I18n(lang, "welcome_message")</div>
                <div></div>
                <div><span class="code-comment">// 支持格式化翻译</span></div>
                <div>formatted := c.I18nf(lang, "hello_name", "张三")</div>
                <div></div>
                <div><span class="code-comment">// 渲染页面并传递翻译内容</span></div>
                <div>c.HTML(http.StatusOK, "i18n.html", gin.H{</div>
                <div>&nbsp;&nbsp;&nbsp;&nbsp;"title":       c.I18n(lang, "i18n_demo_title"),</div>
                <div>&nbsp;&nbsp;&nbsp;&nbsp;"currentLang": lang,</div>
                <div>&nbsp;&nbsp;&nbsp;&nbsp;"greeting":    greeting,</div>
                <div>&nbsp;&nbsp;&nbsp;&nbsp;"message":     message,</div>
                <div>&nbsp;&nbsp;&nbsp;&nbsp;"langInfo":    c.I18nf(lang, "current_language", lang),</div>
                <div>})</div>
            </div>
        </div>

        <div class="section">
            <h2>国际化配置</h2>
            <p>框架支持多种国际化配置方式，包括JSON配置文件、YAML配置文件或数据库存储。</p>
            
            <div class="code-block">
                <div><span class="code-comment">// JSON配置示例 (i18n/zh-CN.json)</span></div>
                <div>{</div>
                <div>&nbsp;&nbsp;&nbsp;&nbsp;"greeting": "你好，世界！",</div>
                <div>&nbsp;&nbsp;&nbsp;&nbsp;"welcome_message": "欢迎使用我们的应用",</div>
                <div>&nbsp;&nbsp;&nbsp;&nbsp;"hello_name": "你好，%s",</div>
                <div>&nbsp;&nbsp;&nbsp;&nbsp;"current_language": "当前语言: %s"</div>
                <div>}</div>
                <div></div>
                <div><span class="code-comment">// 加载语言文件</span></div>
                <div>c.LoadI18nFiles("./i18n")</div>
                <div></div>
                <div><span class="code-comment">// 或从数据库加载</span></div>
                <div>c.LoadI18nFromDB(db, "translations_table")</div>
            </div>
        </div>

        <div class="section">
            <h2>特性</h2>
            <div class="feature-list">
                <div class="feature-item">
                    <div class="feature-icon">✓</div>
                    <div class="feature-content">
                        <div class="feature-title">自动语言检测</div>
                        <div class="feature-description">根据请求头中的Accept-Language自动检测用户首选语言。</div>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">✓</div>
                    <div class="feature-content">
                        <div class="feature-title">多种存储方式</div>
                        <div class="feature-description">支持从JSON文件、YAML文件或数据库加载翻译内容。</div>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">✓</div>
                    <div class="feature-content">
                        <div class="feature-title">格式化翻译</div>
                        <div class="feature-description">支持带参数的动态翻译内容，满足各种复杂场景需求。</div>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">✓</div>
                    <div class="feature-content">
                        <div class="feature-title">多语言回退</div>
                        <div class="feature-description">当指定语言的翻译不存在时，自动回退到默认语言。</div>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">✓</div>
                    <div class="feature-content">
                        <div class="feature-title">运行时更新</div>
                        <div class="feature-description">支持在运行时动态更新翻译内容，无需重启应用。</div>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">✓</div>
                    <div class="feature-content">
                        <div class="feature-title">多种语言格式</div>
                        <div class="feature-description">支持简写和完整的语言代码，如"zh"、"zh-CN"和"zh-Hans"。</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer-nav">
            <a href="/" class="nav-link">首页</a>
            <a href="/docs" class="nav-link">API文档</a>
            <a href="/utils/url-builder" class="nav-link">URL构建</a>
            <a href="/utils/info" class="nav-link">请求信息</a>
            <a href="/form" class="nav-link">表单验证</a>
            <a href="/security" class="nav-link">安全增强</a>
            <a href="/sse" class="nav-link">SSE演示</a>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 语言切换功能
            const languageButtons = document.querySelectorAll('.language-btn');
            languageButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const lang = this.getAttribute('data-lang');
                    window.location.href = `/i18n?lang=${lang}`;
                });
            });
        });
    </script>
</body>
</html> 
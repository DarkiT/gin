<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ .title }}</title>
    <style>
        body {
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            color: #333;
            background-color: #f7f9fc;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: #fff;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
        }
        header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 1px solid #eee;
            padding-bottom: 20px;
        }
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        .section {
            margin-bottom: 30px;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 6px;
        }
        .section h2 {
            color: #2c3e50;
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 22px;
        }
        .section p {
            color: #555;
            margin-bottom: 20px;
        }
        .language-selector {
            display: flex;
            justify-content: center;
            margin: 20px 0;
            gap: 10px;
        }
        .language-btn {
            padding: 8px 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: #f8f9fa;
            color: #333;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .language-btn:hover {
            background-color: #e9ecef;
        }
        .language-btn.active {
            background-color: #2980b9;
            color: white;
            border-color: #2980b9;
        }
        .language-flag {
            width: 20px;
            height: 15px;
            display: inline-block;
            vertical-align: middle;
        }
        .demo-content {
            border: 1px solid #ddd;
            padding: 20px;
            border-radius: 6px;
            background-color: white;
            margin-top: 20px;
        }
        .greeting-text {
            font-size: 24px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 15px;
            color: #2c3e50;
        }
        .message-text {
            text-align: center;
            font-size: 16px;
            color: #7f8c8d;
        }
        .current-lang {
            display: block;
            text-align: center;
            color: #7f8c8d;
            margin-top: 20px;
            font-size: 14px;
        }
        .code-block {
            background-color: #2c3e50;
            color: #ecf0f1;
            padding: 15px 20px;
            border-radius: 4px;
            font-family: monospace;
            overflow-x: auto;
            margin: 15px 0;
        }
        .code-comment {
            color: #7f8c8d;
        }
        .feature-list {
            margin-top: 15px;
        }
        .feature-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 10px;
            background-color: white;
            padding: 12px;
            border-radius: 4px;
            border: 1px solid #e1e4e8;
        }
        .feature-icon {
            margin-right: 10px;
            color: #2ecc71;
            font-weight: bold;
            font-size: 18px;
        }
        .feature-content {
            flex: 1;
        }
        .feature-title {
            font-weight: 500;
            color: #2c3e50;
            margin-bottom: 3px;
        }
        .feature-description {
            font-size: 14px;
            color: #606770;
        }
        .back-link {
            display: inline-block;
            margin-top: 20px;
            color: #3498db;
            text-decoration: none;
        }
        .back-link:hover {
            text-decoration: underline;
        }
        .footer-nav {
            display: flex;
            justify-content: center;
            margin-top: 20px;
            gap: 10px;
        }
        .nav-link {
            color: #3498db;
            text-decoration: none;
        }
        .nav-link:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>å›½é™…åŒ–æ”¯æŒ</h1>
            <p>æ¡†æ¶æä¾›çš„å¤šè¯­è¨€æ”¯æŒåŠŸèƒ½ï¼Œä½¿åº”ç”¨è½»æ¾å®ç°æœ¬åœ°åŒ–</p>
        </header>

        <div class="section">
            <h2>è¯­è¨€åˆ‡æ¢æ¼”ç¤º</h2>
            <p>ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®åˆ‡æ¢è¯­è¨€ï¼ŒæŸ¥çœ‹å†…å®¹å¦‚ä½•æ ¹æ®æ‰€é€‰è¯­è¨€è¿›è¡Œå˜åŒ–ã€‚</p>
            
            <div class="language-selector">
                <button class="language-btn {{if eq .currentLang "zh-CN"}}active{{end}}" data-lang="zh-CN">
                    <span class="language-flag">ğŸ‡¨ğŸ‡³</span> ä¸­æ–‡
                </button>
                <button class="language-btn {{if eq .currentLang "en-US"}}active{{end}}" data-lang="en-US">
                    <span class="language-flag">ğŸ‡ºğŸ‡¸</span> English
                </button>
                <button class="language-btn {{if eq .currentLang "ja-JP"}}active{{end}}" data-lang="ja-JP">
                    <span class="language-flag">ğŸ‡¯ğŸ‡µ</span> æ—¥æœ¬èª
                </button>
                <button class="language-btn {{if eq .currentLang "fr-FR"}}active{{end}}" data-lang="fr-FR">
                    <span class="language-flag">ğŸ‡«ğŸ‡·</span> FranÃ§ais
                </button>
            </div>
            
            <div class="demo-content">
                <div class="greeting-text">{{ .greeting }}</div>
                <div class="message-text">{{ .message }}</div>
                <div class="current-lang">{{ .langInfo }}</div>
            </div>
        </div>

        <div class="section">
            <h2>ä»£ç ç¤ºä¾‹</h2>
            <p>æ¡†æ¶æä¾›ç®€å•æ˜“ç”¨çš„å›½é™…åŒ–APIï¼Œåªéœ€å‡ è¡Œä»£ç å³å¯å®ç°å®Œæ•´çš„å¤šè¯­è¨€æ”¯æŒã€‚</p>
            
            <div class="code-block">
                <div><span class="code-comment">// æ£€æµ‹ç”¨æˆ·é¦–é€‰è¯­è¨€</span></div>
                <div>lang := c.PreferredLanguage("zh-CN", []string{"zh-CN", "en-US", "ja-JP", "fr-FR"})</div>
                <div></div>
                <div><span class="code-comment">// è·å–ç¿»è¯‘å†…å®¹</span></div>
                <div>greeting := c.I18n(lang, "greeting")</div>
                <div>message := c.I18n(lang, "welcome_message")</div>
                <div></div>
                <div><span class="code-comment">// æ”¯æŒæ ¼å¼åŒ–ç¿»è¯‘</span></div>
                <div>formatted := c.I18nf(lang, "hello_name", "å¼ ä¸‰")</div>
                <div></div>
                <div><span class="code-comment">// æ¸²æŸ“é¡µé¢å¹¶ä¼ é€’ç¿»è¯‘å†…å®¹</span></div>
                <div>c.HTML(http.StatusOK, "i18n.html", gin.H{</div>
                <div>&nbsp;&nbsp;&nbsp;&nbsp;"title":       c.I18n(lang, "i18n_demo_title"),</div>
                <div>&nbsp;&nbsp;&nbsp;&nbsp;"currentLang": lang,</div>
                <div>&nbsp;&nbsp;&nbsp;&nbsp;"greeting":    greeting,</div>
                <div>&nbsp;&nbsp;&nbsp;&nbsp;"message":     message,</div>
                <div>&nbsp;&nbsp;&nbsp;&nbsp;"langInfo":    c.I18nf(lang, "current_language", lang),</div>
                <div>})</div>
            </div>
        </div>

        <div class="section">
            <h2>å›½é™…åŒ–é…ç½®</h2>
            <p>æ¡†æ¶æ”¯æŒå¤šç§å›½é™…åŒ–é…ç½®æ–¹å¼ï¼ŒåŒ…æ‹¬JSONé…ç½®æ–‡ä»¶ã€YAMLé…ç½®æ–‡ä»¶æˆ–æ•°æ®åº“å­˜å‚¨ã€‚</p>
            
            <div class="code-block">
                <div><span class="code-comment">// JSONé…ç½®ç¤ºä¾‹ (i18n/zh-CN.json)</span></div>
                <div>{</div>
                <div>&nbsp;&nbsp;&nbsp;&nbsp;"greeting": "ä½ å¥½ï¼Œä¸–ç•Œï¼",</div>
                <div>&nbsp;&nbsp;&nbsp;&nbsp;"welcome_message": "æ¬¢è¿ä½¿ç”¨æˆ‘ä»¬çš„åº”ç”¨",</div>
                <div>&nbsp;&nbsp;&nbsp;&nbsp;"hello_name": "ä½ å¥½ï¼Œ%s",</div>
                <div>&nbsp;&nbsp;&nbsp;&nbsp;"current_language": "å½“å‰è¯­è¨€: %s"</div>
                <div>}</div>
                <div></div>
                <div><span class="code-comment">// åŠ è½½è¯­è¨€æ–‡ä»¶</span></div>
                <div>c.LoadI18nFiles("./i18n")</div>
                <div></div>
                <div><span class="code-comment">// æˆ–ä»æ•°æ®åº“åŠ è½½</span></div>
                <div>c.LoadI18nFromDB(db, "translations_table")</div>
            </div>
        </div>

        <div class="section">
            <h2>ç‰¹æ€§</h2>
            <div class="feature-list">
                <div class="feature-item">
                    <div class="feature-icon">âœ“</div>
                    <div class="feature-content">
                        <div class="feature-title">è‡ªåŠ¨è¯­è¨€æ£€æµ‹</div>
                        <div class="feature-description">æ ¹æ®è¯·æ±‚å¤´ä¸­çš„Accept-Languageè‡ªåŠ¨æ£€æµ‹ç”¨æˆ·é¦–é€‰è¯­è¨€ã€‚</div>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">âœ“</div>
                    <div class="feature-content">
                        <div class="feature-title">å¤šç§å­˜å‚¨æ–¹å¼</div>
                        <div class="feature-description">æ”¯æŒä»JSONæ–‡ä»¶ã€YAMLæ–‡ä»¶æˆ–æ•°æ®åº“åŠ è½½ç¿»è¯‘å†…å®¹ã€‚</div>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">âœ“</div>
                    <div class="feature-content">
                        <div class="feature-title">æ ¼å¼åŒ–ç¿»è¯‘</div>
                        <div class="feature-description">æ”¯æŒå¸¦å‚æ•°çš„åŠ¨æ€ç¿»è¯‘å†…å®¹ï¼Œæ»¡è¶³å„ç§å¤æ‚åœºæ™¯éœ€æ±‚ã€‚</div>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">âœ“</div>
                    <div class="feature-content">
                        <div class="feature-title">å¤šè¯­è¨€å›é€€</div>
                        <div class="feature-description">å½“æŒ‡å®šè¯­è¨€çš„ç¿»è¯‘ä¸å­˜åœ¨æ—¶ï¼Œè‡ªåŠ¨å›é€€åˆ°é»˜è®¤è¯­è¨€ã€‚</div>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">âœ“</div>
                    <div class="feature-content">
                        <div class="feature-title">è¿è¡Œæ—¶æ›´æ–°</div>
                        <div class="feature-description">æ”¯æŒåœ¨è¿è¡Œæ—¶åŠ¨æ€æ›´æ–°ç¿»è¯‘å†…å®¹ï¼Œæ— éœ€é‡å¯åº”ç”¨ã€‚</div>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">âœ“</div>
                    <div class="feature-content">
                        <div class="feature-title">å¤šç§è¯­è¨€æ ¼å¼</div>
                        <div class="feature-description">æ”¯æŒç®€å†™å’Œå®Œæ•´çš„è¯­è¨€ä»£ç ï¼Œå¦‚"zh"ã€"zh-CN"å’Œ"zh-Hans"ã€‚</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer-nav">
            <a href="/" class="nav-link">é¦–é¡µ</a>
            <a href="/docs" class="nav-link">APIæ–‡æ¡£</a>
            <a href="/utils/url-builder" class="nav-link">URLæ„å»º</a>
            <a href="/utils/info" class="nav-link">è¯·æ±‚ä¿¡æ¯</a>
            <a href="/form" class="nav-link">è¡¨å•éªŒè¯</a>
            <a href="/security" class="nav-link">å®‰å…¨å¢å¼º</a>
            <a href="/sse" class="nav-link">SSEæ¼”ç¤º</a>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // è¯­è¨€åˆ‡æ¢åŠŸèƒ½
            const languageButtons = document.querySelectorAll('.language-btn');
            languageButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const lang = this.getAttribute('data-lang');
                    window.location.href = `/i18n?lang=${lang}`;
                });
            });
        });
    </script>
</body>
</html> 